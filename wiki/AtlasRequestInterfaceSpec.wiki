= INCF Atlas Server Request Interface =

== Base URIs ==

The Atlas base URIs identify the server location (URL) and the server application or context.

 * Format

    http://[server]:[port]/atlas-[hub]

 * Example:

    http://incf-dev-local:8080/atlas-aba

== Full URIs == 

The URIs will be consistent with, but a subset of, the OGC (Open Geospatial Consortium) WPS (Web Processing Service) standard. 

A complete URI will consist of 

 * a base URI
 * a query string consisting of
   * Request (required)
   * Identifier
   * Data inputs

The Request is mandatory the other query string elements depend on the type of Request.

For example:
 * http://incf-dev-local.crbs.ucd.edu/atlas-aba?request=GetCapabilities
 * http://incf-dev-local.crbs.ucd.edu/atlas-aba?request=DescribeProcess
 * http://incf-dev-local.crbs.ucd.edu/atlas-aba?request=Execute&identifier=GetGenesByPOI&dataInputs=srsCode=WHS;x=263.7;y=159.4;z=227.8

== Query String Details ==

Full URI = Base URI + Query String

?request={request}&identifier={identifier}&dataInputs={data-inputs}

Request = { GetCapabilities | DescribeProcess | Execute }

Identifier = { function-name }

DataInputs={key-1}={value-1};{key-2}={value-2};...;{key-n}={value-n}

DataInuts keys:
 * srsName, inputSrsName, targetSrsName = 
{ Mouse_ABAreference_1.0 | Mouse_ABAvoxel_1.0 | Mouse_AGEA_1.0 | Mouse_EMAP-T26_1.0 | Mouse_Paxinos_1.0 | Mouse_WHS_1.0 }
 * x, y, z = { double }
 * vocabulary = { { hub } : { srs | vocabulary } : { code } }
 * filter = { maptype:coronal | maptype:horizontal | maptype:sagittal | structureset:anatomic | structureset:fine }

== Summary of Atlas Functions ==

This table summarizes the planned set of Atlas requests.

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
  <tr>
    <th>Request</th>
    <th>Identifier</th>
    <th>DataInputs<br/>(keys)</th>
    <th>Applicability</th>
    <th>Expected<br/>Output</th>
  </tr>
  <tr>
    <td>!GetCapabilities</td>
    <td>n/a</td>
    <td>n/a</td>
    <td>All hubs</td>
    <td>XML specified by:<br/>wpsGetCapabilities_response.xsd</td>
  </tr>
  <tr>
    <td>!DescribeProcess</td>
    <td>n/a</td>
    <td>n/a</td>
    <td>All hubs</td>
    <td>XML specified by:<br/>wpsDescribeProcess_response.xsd</td>
  </tr>
  <tr>
    <td>Execute</td>
    <td>DescribeSRS</td>
    <td>srsCode</td>
    <td>All hubs</td>
    <td>XML</td>
  </tr>
  <tr>
    <td>Execute</td>
    <td>ListSRSs</td>
    <td>n/a</td>
    <td>All hubs</td>
    <td></td>
  </tr>
  <tr>
    <td>Execute</td>
    <td>!DescribeTransformation</td>
    <td>TBD</td>
    <td>All hubs</td>
    <td></td>
  </tr>
  <tr>
    <td>Execute</td>
    <td>!ListTransformations</td>
    <td>TBD</td>
    <td>All hubs</td>
    <td></td>
  </tr>
  <tr>
    <td>Execute</td>
    <td>TransformPOI</td>
    <td>inputSrsCode<br/>targetSrsCode<br/>x<br/>y<br/>z<br/>filter</td>
    <td>All hubs</td>
    <td></td>
  </tr>
  <tr>
    <td>Execute</td>
    <td>!GetTransformationChain</td>
    <td>inputSrsCode<br/>targetSrsCode<br/>filter</td>
    <td>Central and<br/>selected hubs</td>
    <td>XML</td>
  </tr>
  <tr>
    <td>Execute</td>
    <td>Get2DImagesByPOI</td>
    <td>srsCode<br/>x<br/>y<br/>z<br/>filter</td>
    <td>All hubs</td>
    <td></td>
  </tr>
  <tr>
    <td>Execute</td>
    <td>GetCorrelationMapByPOI</td>
    <td>srsCode<br/>x<br/>y<br/>z<br/>filter</td>
    <td>ABA hub only</td>
    <td></td>
  </tr>
  <tr>
    <td>Execute</td>
    <td>GetGenesByPOI</td>
    <td>srsCode<br/>x<br/>y<br/>z<br/></td>
    <td>ABA hub only</td>
    <td></td>
  </tr>
  <tr>
    <td>Execute</td>
    <td>GetStructureNamesByPOI</td>
    <td>srsCode<br/>x<br/>y<br/>z<br/>vocabulary<br/>filter</td>
    <td>All hubs</td>
    <td></td>
  </tr>
</table>