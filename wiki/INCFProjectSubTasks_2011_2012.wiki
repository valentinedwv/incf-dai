#summary Sub-tasks related to INCF Atlas Services Enhancements.

 * [INCFProjectSubTasks_2011_2012#Deliverables:1:A Deliverables:1:A]
 * [INCFProjectSubTasks_2011_2012#Deliverables:1:B Deliverables:1:B]
 * [INCFProjectSubTasks_2011_2012#Deliverables:1:C Deliverables:1:C]
 * [INCFProjectSubTasks_2011_2012#Deliverables:1:D Deliverables:1:D]
 * [INCFProjectSubTasks_2011_2012#Deliverables:1:E Deliverables:1:E]
 * [INCFProjectSubTasks_2011_2012#Deliverables:1:F Deliverables:1:F]
 * [INCFProjectSubTasks_2011_2012#Deliverables:1:G Deliverables:1:G]

 * [INCFProjectSubTasks_2011_2012#Deliverables:2:A Deliverables:2:A]
 * [INCFProjectSubTasks_2011_2012#Deliverables:2:B Deliverables:2:B]
 * [INCFProjectSubTasks_2011_2012#Deliverables:2:C Deliverables:2:C]
 * [INCFProjectSubTasks_2011_2012#Deliverables:2:D Deliverables:2:D]
 * [INCFProjectSubTasks_2011_2012#Deliverables:2:E Deliverables:2:E]
 * [INCFProjectSubTasks_2011_2012#Deliverables:2:F Deliverables:2:F]

 * [INCFProjectSubTasks_2011_2012#Deliverables:3:A Deliverables:3:A]
 * [INCFProjectSubTasks_2011_2012#Deliverables:3:B Deliverables:3:B]
 * [INCFProjectSubTasks_2011_2012#Deliverables:3:C Deliverables:3:C]
 * [INCFProjectSubTasks_2011_2012#Deliverables:3:D Deliverables:3:D]
 * [INCFProjectSubTasks_2011_2012#Deliverables:3:E Deliverables:3:E]
 * [INCFProjectSubTasks_2011_2012#Deliverables:3:F Deliverables:3:F]

 * [INCFProjectSubTasks_2011_2012#Deliverables:4:A Deliverables:4:A]
 * [INCFProjectSubTasks_2011_2012#Deliverables:4:B Deliverables:4:B]
 * [INCFProjectSubTasks_2011_2012#Deliverables:4:C Deliverables:4:C]
<br/>

===Deliverables:1:A===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Evaluate registration/coordinate translation methods available from both human neuroinformatics and animal model research, in particular certainty estimates associated with spatial registration or translation.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
Please click the URL below:
<br/>
https://docs.google.com/document/d/1O-eaEg4-259_y73AV4T49YW4hPbD6KhzxA_YhN6bcLc/edit?pli=1#
<br/>
</td>
</tr>
</table>
<br/>
===Deliverables:1:B===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Conduct accuracy assessment of coordinate transformation functions developed earlier, by i) simulating series of forward and inverse transformations for available images and generating an image volume with transformation performance statistics, ii) assessing consistency of transformation results under different transformation parameters and sets of fiducials.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
These are preliminary error estimates, based on Euclidean distance between coordinates returned after forward and inverse transformations have been applied, and the original coordinates. The transformation in question is a thin plate spline created by matching the atlas outline features with corresponding image features. The displacement values are shown in the units of the target coordinate system in the transformation.
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
https://lh4.googleusercontent.com/-viAKSQ7hWAM/TxADoyukPNI/AAAAAAAAADU/2P_EvP4vkAY/s800/error.jpg
<br/>
https://lh5.googleusercontent.com/-v3BT7cOSook/TxADpuluLZI/AAAAAAAAADY/ZJTm5nmUgdw/s800/error-overlay.jpg<br/>
<br/>
https://lh4.googleusercontent.com/-T2zY54BhbJI/TxADqAIT1kI/AAAAAAAAADc/HZIx22XwJZg/s800/error-overlay-100.jpg
</td>
</tr>
</table>
<br/>
===Deliverables:1:C===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Visualize deformation fields to display regions of lower accuracy (e.g. as “heat maps”.)</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
These are also the preliminary error estimates, based on Euclidean distance between coordinates returned after forward and inverse transformations have been applied, and the original coordinates. 
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
<br/>
= WHS-PAXINOS-WHS = 
<br/>
https://lh3.googleusercontent.com/-_hdv4O-9D60/T0IO5My4jdI/AAAAAAAAAEU/WilTP18gdIs/s640/WHS-PAXINOS-WHS-Corrected-coronal-0.02mm-discrepency.jpg
<br/>
https://lh6.googleusercontent.com/-oDwu7wIOQGY/T0IO5Y-a7eI/AAAAAAAAAEY/AzBlpXrS1zs/s912/WHS-PAXINOS-WHS-Corrected-lateral-0.12mm-discrepency.jpg
<br/>
https://lh4.googleusercontent.com/-VueuYQiUJOU/T0IO59ByejI/AAAAAAAAAEc/mLo3HO1Lpk0/s511/WHS-PAXINOS-WHS-coronal-512-pixels-discrepency.jpg
<br/>
https://lh3.googleusercontent.com/-whBJgcbaFqY/T0IO6MssLuI/AAAAAAAAAEg/xzjhgOsjeC4/s912/WHS-PAXINOS-WHS-sagittal-256-pixels-discrepency.jpg
<br/>

<br/>
= WHS-AGEA-WHS = 
<br/>
https://lh6.googleusercontent.com/-c915N363Yvc/T0IO7nAZq8I/AAAAAAAAAEk/Fj4bUFB0NKU/s512/WHS-AGEA-WHS-whs-agea-whs.coronal.0584.jpg
<br/>
https://lh6.googleusercontent.com/-5mB6T9VyBK4/T0IO9MOrmSI/AAAAAAAAAEo/n85r1uAn_wg/s912/WHS-AGEA-WHS-whs-agea-whs.sagittal.0292.jpg
<br/>

</td>
</tr>
</table>
<br/>
===Deliverables:1:D===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Develop specification and output schemas for coordinate transformation services that include accuracy estimates.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
</table>
<br/>
===Deliverables:1:E===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Implement atlas services that return transformation accuracy information.</th>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
http://132.239.131.188:8080/ucsd/atlas?service=WPS&version=1.0.0&request=Execute&Identifier=TransformPOI&DataInputs=transformationCode=Mouse_Paxinos_1.0_To_Mouse_WHS_0.9_v1.0;x=3;y=5.3;z=4.78
</td>
</tr>
</table>
<br/>
===Deliverables:1:F===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Develop an error propagation model and include error assessment in GetTransformationChain responses.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
</table>
<br/>
===Deliverables:1:G===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Generate a report and publications on the inclusion of accuracy assessment and accuracy propagation in brain atlas web services.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
</table>
<br/>


<br/>

===Deliverables:2:A===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Develop a specification of services and exchange formats to be used in the workflow, and approbate them with image datasets of varying complexity (contributed by the Atlasing TF members).</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
Here is a sample of Workflow Example File(please download and view the format):
https://www.sugarsync.com/pf/D387646_3733681_28450

Here is a sample of Manifest Example File(please download and view the format):
https://www.sugarsync.com/pf/D387646_3733681_28475
</td>
</tr>
</table>
<br/>
===Deliverables:2:B===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Develop atlas registration services, by wrapping ITK/ANTs scripts as WFS-compliant services, register them in INCF-DAI.</th>
</tr>

<tr>
<th align="left">Notes</th>
<td width="80%">
Here is the script definition for ITK used for defining the Registration Workflow:
https://github.com/luisibanez/ImageReconstruction

https://github.com/luisibanez/ImageRegistration

https://github.com/picslHISTO/HistoRecon/blob/master/scripts/entire_pipeline.sh

</td>
</tr>

<tr>
<th align="left">Examples</th>
<td width="80%">
===3D Reconstruction Service:===
http://132.239.131.188:8080/registration/atlas?service=WPS&version=1.0.0&request=Execute&Identifier=RoughVolumetricRegistrationScript&DataInputs=filePath=http://ccdb-portal.crbs.ucsd.edu:8081/ZoomifyDataServer/data/MP_1001_rec

===Alignment to WHS:===
http://132.239.131.188:8080/registration/atlas?service=WPS&version=1.0.0&request=Execute&Identifier=RoughVolumetricRegistrationScript&DataInputs=filePath=http://ccdb-portal.crbs.ucsd.edu:8081/ZoomifyDataServer/data/MP_1001_rec

===Fine Registration:===
http://132.239.131.188:8080/registration/atlas?service=WPS&version=1.0.0&request=Execute&Identifier=WarpReferenceAfterRoughVolumetricRegistration&DataInputs=filePath=http://ccdb-portal.crbs.ucsd.edu:8081/ZoomifyDataServer/data/MP_1001_rec

===UpdateITK:===
http://132.239.131.188:8080/registration/atlas?service=WPS&version=1.0.0&request=Execute&Identifier=RoughVolumetricRegistrationScript&DataInputs=filePath=http://ccdb-portal.crbs.ucsd.edu:8081/ZoomifyDataServer/data/MP_1001_rec

===ListSRSs:===
http://132.239.131.188:8080/ucsd/atlas?service=WPS&version=1.0.0&request=Execute&Identifier=ListSRSs 

===DescribeSRS:===
http://incf-dev-local.crbs.ucsd.edu/ucsd/atlas?service=WPS&version=1.0.0&request=Execute&Identifier=DescribeSRS&DataInputs=srsName=Mouse_ABAvoxel_1.0

===ListTransformations:===
http://132.239.131.188:8080/ucsd/atlas?service=WPS&version=1.0.0&request=Execute&Identifier=ListTransformations 

===TransformPOI:===
http://132.239.131.188:8080/ucsd/atlas?service=WPS&version=1.0.0&request=Execute&Identifier=TransformPOI&DataInputs=transformationCode=Mouse_Yuko_1.0_To_Mouse_WHS_0.9_v1.0;x=200;y=320;z=211 

===Warped Dataset:===
http://tirebiter.ucsd.edu/WebImageBrowser/cgi-bin/start.pl?volumeID=irods:/telescience/home/asifmemon/canon_hist_affined_warped.nii 
</td>
</tr>
</table>
<br/>
===Deliverables:2:C===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Test the services on the contributed image datasets.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
The services are being tested on datasets provided by Rob Williams. We will publish comparison statistics, between scripts and services. The datasets themselves will be available once the work is released to the public. 
<br/>
</td>
</tr>
</table>
<br/>
===Deliverables:2:D===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Use ITK to generate and compare deformation fields resulting from WHS registration using different transformations (B-spline warping, thin plate spline, landmark warping, etc.) and parameters.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
</table>
<br/>
===Deliverables:2:E===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Organize the services into an INCF registration hub that takes advantage of iRODS storage and is available online for registering images to WHS.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
</table>
<br/>
===Deliverables:2:F===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Develop an online manual and tutorials for using the online atlas registration hub.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
</table>
<br/>




===Deliverables:3:A===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Describe available coordinate systems for the rat brain and register them to the spatial reference system registry.</th>
</tr>
<tr>
<th align="left">Details</th>
<td width="80%">
We are looking at mouse data from Oslo. Here is a step by ttep guide for registration:
http://code.google.com/p/incf-dai/wiki/JibberJetsamWorkflow
</td>
</tr>

<tr>
<th align="left">Examples</th>
<td width="80%">
http://tirebiter.ucsd.edu/WebImageBrowser/cgi-bin/start.pl?plugin=INCF&pnzID=irods:/telescience/home/CCDB_DATA_USER.portal/CCDB_DATA_USER/acquisition/project_1/microscopy_83337/OsloData/pnz/49-388_12_s362_20x.pnz

http://tirebiter.ucsd.edu/WebImageBrowser/cgi-bin/start.pl?plugin=INCF&pnzID=irods:/telescience/home/CCDB_DATA_USER.portal/CCDB_DATA_USER/acquisition/project_1/microscopy_83337/OsloData/pnz/26-388_12_s178_20x.pnz

http://tirebiter.ucsd.edu/WebImageBrowser/cgi-bin/start.pl?plugin=INCF&pnzID=irods:/telescience/home/CCDB_DATA_USER.portal/CCDB_DATA_USER/acquisition/project_1/microscopy_83337/OsloData/pnz/26-388_12_s178_20x.pnz

</td>
</tr>

</table>
<br/>
===Deliverables:3:B===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Develop an atlas hub for rat brain. (and assist other INCF partners in developing their hubs).</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
</table>
<br/>
===Deliverables:3:C===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Identify common anatomic features across mouse and rat brain atlases that can be used to map between them. Develop an algorithm and implement an engine for a) expressing a given ROI or POI as a set of spatial placement rules, and b) pruning the set of rules into a parsimonious location description.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
</table>
<br/>
===Deliverables:3:D===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Create rule-based location descriptions for anatomic features identified in both mouse and rat brain atlases.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
</table>
<br/>
===Deliverables:3:E===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Develop an algorithm and implement an engine for resolving a set of spatial placement rules to local coordinates of an ROI in a target brain.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
</table>
<br/>
===Deliverables:3:F===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Incorporate transformations between location descriptions by coordinates, and by spatial placement rules, into WaxML and atlas services.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
</table>
<br/>


===Deliverables:4:A===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Develop a data registration user interface supporting data upload to iRODS with automatic registration of the uploaded data to the Data Discovery Portal.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
</table>
<br/>
===Deliverables:4:B===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Develop procedures for synchronizing content of iRODS in the cloud appliance with the metadata catalog underlying the Data Discovery Portal.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
</table>
<br/>
===Deliverables:4:C===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
<tr>
<th colspan="2" align="left">Develop better integration between the Portal’s search facility, and the WBC and WIB clients, so that the discovered image resources can be visualized in WBC or WIB depending on their atlas registration properties. Integrate selected web-based mouse brain atlas viewers developed by members of the INCF Atlasing program (in particular, the Scalable Brain Atlas and the EMAP Atlas Viewer) into the portal.</th>
</tr>
<tr>
<th align="left">Notes</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
<tr>
<th align="left">Examples</th>
<td width="80%">
<br/>
<br/>
<br/>
<br/>
</td>
</tr>
</table>
<br/>