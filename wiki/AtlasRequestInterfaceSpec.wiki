=INCF Atlas Server Request Interface=

==Base URIs==

The Atlas base URIs identify the server location (URL) and the server application or context.

 * Format: http://[server]:[port]/atlas-[hub]

 * Example: http://incf-dev-local:8080/atlas-aba

==Full URIs== 

Full Atlas URIs are consistent with, but a subset of, the OGC (Open Geospatial Consortium) WPS (Web Processing Service) standard. 

The [AtlasRequestInterfaceSpec#Base_URIs Base URIs] will be appended with a query string which will include these case- and order-sensitive keys:
 * service
   * all requests
   * value = WPS
 * version
   * all requests except !GetCapabilities
   * value be that returned by the !GetCapabilities request
 * request
   * all requests
   * value =  { !GetCapabilities | !DescribeProcess | Execute }
 * Identifier
   * all Execute requests
   * values enumerated below
 * !DataInputs
   * [AtlasRequestInterfaceSpec#Query_String_Details described below]

For example:
 * http://incf-dev-local.crbs.ucd.edu/atlas-aba?service=WPS&request=GetCapabilities
 * http://incf-dev-local.crbs.ucd.edu/atlas-aba?service=WPS&version=1.0.0&request=DescribeProcess
 * http://incf-dev-local.crbs.ucd.edu/atlas-aba?
service=WPS&version=1.0.0&request=Execute&Identifier=GetGenesByPOI&DataInputs=srsCode=WHS;x=263.7;y=159.4;z=227.8

==Query String Details==

Full URI = Base URI + Query String

?service=WPS&version={version}&request={request}&Identifier={identifier}&DataInputs={data-inputs}

request = { !GetCapabilities | !DescribeProcess | Execute }

Identifier = { function-name }

===Data Inputs===

!DataInputs={key-1}={value-1};{key-2}={value-2};...;{key-n}={value-n}

!DataInputs keys:
 * sourceType = { WMS }
 * x, y, z, xmin, xmax, ymin, ymax = { double }
 * vocabulary = { { hub } : { srs | vocabulary } : { code } }
 * filter = {  }

====SRS Names====
_srsName, inputSrsName, outputSrsName_ will be one of these values:
 * Mouse_ABAreference_1.0
 * Mouse_ABAvoxel_1.0
 * Mouse_AGEA_1.0
 * Mouse_EMAP-T26_1.0
 * !Mouse_Paxinos_1.0
 * Mouse_WHS_0.9
 * Mouse_WHS_1.0

====Coordinates====
_x, y, z, xmin, xmax, ymin, ymax_ are type double

====Filter====
_filter_ will be one of these values:
 * maptype:coronal
 * maptype:horizontal
 * maptype:sagittal
 * structureset:anatomic
 * structureset:fine

==Atlas Functions==

Standard WPS Requests
 * [AtlasRequestInterfaceSpec#GetCapabilities GetCapabilities]
 * [AtlasRequestInterfaceSpec#DescribeProcess DescribeProcess]

Atlas Functions
 * [AtlasRequestInterfaceSpec#DescribeSRS DescribeSRS]
 * [AtlasRequestInterfaceSpec#DescribeTransformation DescribeTransformation]
 * [AtlasRequestInterfaceSpec#Get2DImagesByPOI Get2DImagesByPOI]
 * [AtlasRequestInterfaceSpec#Get2DImagesByURI Get2DImagesByURI]
 * [AtlasRequestInterfaceSpec#GetCellsByPOI GetCellsByPOI]
 * [AtlasRequestInterfaceSpec#GetCellsByURI GetCellsByURI]
 * [AtlasRequestInterfaceSpec#GetCorrlationMap GetCorrelationMap]
 * [AtlasRequestInterfaceSpec#GetGenesByPOI GetGenesByPOI]
 * [AtlasRequestInterfaceSpec#GetStructureNamesByPOI GetStructureNamesByPOI]
 * [AtlasRequestInterfaceSpec#GetTransformationChain GetTransformationChain]
 * [AtlasRequestInterfaceSpec#ListSRSs ListSRSs]
 * [AtlasRequestInterfaceSpec#ListTransformations ListTransformations]
 * [AtlasRequestInterfaceSpec#Retrieve2DImage Retrieve2DImage]
 * [AtlasRequestInterfaceSpec#TransformPOI TransformPOI]

===!GetCapabilities===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
  <tr>
    <th colspan="2">!GetCapabilities</th>
  </tr>
  <tr>
    <th align="left">GET Request</th>
    <td>http://[host:port]/[hub]$service=WPS&request=GetCapabilities</td>
  </tr>
  <tr>
    <th align="left">Description</th>
    <td></td>
  </tr>
  <tr>
    <th align="left">Applicability</th>
    <td>All hubs</td>
  </tr>
  <tr>
    <th align="left">Data Inputs</th>
    <td>None</td>
  </tr>
  <tr>
    <th align="left">Normal Return</th>
    <td>XML document. [http://schemas.opengis.net/wps/1.0.0/wpsGetCapabilities_response.xsd WPS Schema].</td>
  </tr>
  <tr>
    <th align="left">Error Return</th>
    <td>XML exception report. [http://schemas.opengis.net/ows/0.3.0/owsExceptionReport.xsd OWS Schema].</td>
  </tr>
  <tr>
    <th align="left">Example</th>
    <td>http://incf-dev-local.crbs.ucsd.edu:8080/atlas-aba?service=WPS&request=GetCapabilities</td>
  </tr>
</table>

===!DescribeProcess===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
  <tr>
    <th colspan="2">!DescribeProcess</th>
  </tr>
  <tr>
    <th align="left">GET Request</th>
    <td>http://[host:port]/[hub]$service=WPS&version=[version]&request=DescribeProcess</td>
  </tr>
  <tr>
    <th align="left">Description</th>
    <td></td>
  </tr>
  <tr>
    <th align="left">Applicability</th>
    <td>All hubs</td>
  </tr>
  <tr>
    <th align="left">Data Inputs</th>
    <td>None</td>
  </tr>
  <tr>
    <th align="left">Normal Return</th>
    <td>XML document. [http://schemas.opengis.net/wps/1.0.0/wpsDescribeProcess_response.xsd WPS Schema].</td>
  </tr>
  <tr>
    <th align="left">Error Return</th>
    <td>XML exception report. [http://schemas.opengis.net/ows/0.3.0/owsExceptionReport.xsd OWS Schema].</td>
  </tr>
  <tr>
    <th align="left">Example</th>
    <td>http://incf-dev-local.crbs.ucsd.edu:8080/atlas-aba?service=WPS&version=1.0.0&request=DescribeProcess</td>
  </tr>
</table>

===DescribeSRS===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
  <tr>
    <th colspan="2">DescribeSRS</th>
  </tr>
  <tr>
    <th align="left">GET Request</th>        <td>http://[host:port]/[hub]$service=WPS&version=[version]&request=Execute&Identifier=DescribeSRS&DataInputs=srsName=[srsName]</td>
  </tr>
  <tr>
    <th align="left">Description</th>
    <td></td>
  </tr>
  <tr>
    <th align="left">Applicability</th>
    <td>See [AtlasFunctionHubApplicabilityTable Applicability Table]</td>
  </tr>
  <tr>
    <th align="left">Data Inputs</th>
    <td>[AtlasRequestInterfaceSpec#SRS_Names srsName]</td>
  </tr>
  <tr>
    <th align="left">Normal Return</th>
    <td>XML document.</td>
  </tr>
  <tr>
    <th align="left">Error Return</th>
    <td>XML exception report. [http://schemas.opengis.net/ows/0.3.0/owsExceptionReport.xsd OWS Schema].</td>
  </tr>
  <tr>
    <th align="left">Example</th>
    <td>http://incf-dev-local.crbs.ucsd.edu:8080/atlas-aba?service=WPS&version=1.0.0&request=Execute&Identifier=DescribeSRS&DataInputs=srsName=Mouse_ABAvoxel_1.0</td>
  </tr>
</table>

===!DescribeTransfomation===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
  <tr>
    <th colspan="2">!DescribeTransformation</th>
  </tr>
  <tr>
    <th align="left">GET Request</th>        <td>http://[host:port]/[hub]$service=WPS&version=[version]&request=Execute&Identifier=DescribeTransformation&DataInputs=...TO BE DETERMINED...</td>
  </tr>
  <tr>
    <th align="left">Description</th>
    <td></td>
  </tr>
  <tr>
    <th align="left">Applicability</th>
    <td>See [AtlasFunctionHubApplicabilityTable Applicability Table]</td>
  </tr>
  <tr>
    <th align="left">Data Inputs</th>
    <td>...TO BE DETERMINED...</td>
  </tr>
  <tr>
    <th align="left">Normal Return</th>
    <td>XML document.</td>
  </tr>
  <tr>
    <th align="left">Error Return</th>
    <td>XML exception report. [http://schemas.opengis.net/ows/0.3.0/owsExceptionReport.xsd OWS Schema].</td>
  </tr>
  <tr>
    <th align="left">Example</th>
    <td>http://incf-dev-local.crbs.ucsd.edu:8080/atlas-aba?service=WPS&version=1.0.0&request=Execute&Identifier=DescribeTransformation&DataInputs=...TO BE DETERMINED...</td>
  </tr>
</table>

===Get2DImagesByPOI===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
  <tr>
    <th colspan="2">Get2DImagesByPOI</th>
  </tr>
  <tr>
    <th align="left">GET Request</th>        <td>http://[host:port]/[hub]$service=WPS&version=[version]&request=Execute&Identifier=Get2DImagesByPOI&DataInputs=srsName=[srsName];x=[x];y=[y];z=[z];filter=[filter]</td>
  </tr>
  <tr>
    <th align="left">Description</th>
    <td></td>
  </tr>
  <tr>
    <th align="left">Applicability</th>
    <td>See [AtlasFunctionHubApplicabilityTable Applicability Table]</td>
  </tr>
  <tr>
    <th align="left">Data Inputs</th>
    <td>[AtlasRequestInterfaceSpec#SRS_Names srsName]<br/>
[AtlasRequestInterfaceSpec#Coordinates x]<br/>
[AtlasRequestInterfaceSpec#Coordinates y]<br/>
[AtlasRequestInterfaceSpec#Coordinates z]<br/>
[AtlasRequestInterfaceSpec#Filter filter]</td>
  </tr>
  <tr>
    <th align="left">Normal Return</th>
    <td>XML document.</td>
  </tr>
  <tr>
    <th align="left">Error Return</th>
    <td>XML exception report. [http://schemas.opengis.net/ows/0.3.0/owsExceptionReport.xsd OWS Schema].</td>
  </tr>
  <tr>
    <th align="left">Example</th>
    <td>http://incf-dev-local.crbs.ucsd.edu:8080/atlas-aba?service=WPS&version=1.0.0&request=Execute&Identifier=Get2DImagesByPOI&DataInputs=srsName=Mouse_ABAvoxel_1.0;x=3892;y=2748;z=1434;filter=maptype:coronal</td>
  </tr>
</table>

===Get2DImagesByURI===

Temporary -- Data Inputs: 
filter
<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
  <tr>
    <th colspan="2">Get2DImagesByURI</th>
  </tr>
  <tr>
    <th align="left">GET Request</th>        <td>http://[host:port]/[hub]$service=WPS&version=[version]&request=Execute&Identifier=Get2DImagesByURI&DataInputs= ... TBD ...</td>
  </tr>
  <tr>
    <th align="left">Description</th>
    <td></td>
  </tr>
  <tr>
    <th align="left">Applicability</th>
    <td>See [AtlasFunctionHubApplicabilityTable Applicability Table]</td>
  </tr>
  <tr>
    <th align="left">Data Inputs</th>
    <td>... TBD ...</td>
  </tr>
  <tr>
    <th align="left">Normal Return</th>
    <td>XML document.</td>
  </tr>
  <tr>
    <th align="left">Error Return</th>
    <td>XML exception report. [http://schemas.opengis.net/ows/0.3.0/owsExceptionReport.xsd OWS Schema].</td>
  </tr>
  <tr>
    <th align="left">Example</th>
    <td>http://incf-dev-local.crbs.ucsd.edu:8080/atlas-aba?service=WPS&version=1.0.0&request=Execute&Identifier=Get2DImagesByURI&DataInputs=... TBD ...</td>
  </tr>
</table>

===GetCellsByPOI===

Temporary -- Data Inputs: 
TBD
<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
  <tr>
    <th colspan="2">GetCellsByPOI</th>
  </tr>
  <tr>
    <th align="left">GET Request</th>        <td>http://[host:port]/[hub]$service=WPS&version=[version]&request=Execute&Identifier=GetCellsByPOI&DataInputs= ... TBD ...</td>
  </tr>
  <tr>
    <th align="left">Description</th>
    <td></td>
  </tr>
  <tr>
    <th align="left">Applicability</th>
    <td>See [AtlasFunctionHubApplicabilityTable Applicability Table]</td>
  </tr>
  <tr>
    <th align="left">Data Inputs</th>
    <td>... TBD ...</td>
  </tr>
  <tr>
    <th align="left">Normal Return</th>
    <td>XML document.</td>
  </tr>
  <tr>
    <th align="left">Error Return</th>
    <td>XML exception report. [http://schemas.opengis.net/ows/0.3.0/owsExceptionReport.xsd OWS Schema].</td>
  </tr>
  <tr>
    <th align="left">Example</th>
    <td>http://incf-dev-local.crbs.ucsd.edu:8080/atlas-aba?service=WPS&version=1.0.0&request=Execute&Identifier=GetCellsByPOI&DataInputs=... TBD ...</td>
  </tr>
</table>

===GetCellsByURI===

Temporary -- Data Inputs: 
TBD
<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
  <tr>
    <th colspan="2">GetCellsByURI</th>
  </tr>
  <tr>
    <th align="left">GET Request</th>        <td>http://[host:port]/[hub]$service=WPS&version=[version]&request=Execute&Identifier=GetCellsByURI&DataInputs= ... TBD ...</td>
  </tr>
  <tr>
    <th align="left">Description</th>
    <td></td>
  </tr>
  <tr>
    <th align="left">Applicability</th>
    <td>See [AtlasFunctionHubApplicabilityTable Applicability Table]</td>
  </tr>
  <tr>
    <th align="left">Data Inputs</th>
    <td>... TBD ...</td>
  </tr>
  <tr>
    <th align="left">Normal Return</th>
    <td>XML document.</td>
  </tr>
  <tr>
    <th align="left">Error Return</th>
    <td>XML exception report. [http://schemas.opengis.net/ows/0.3.0/owsExceptionReport.xsd OWS Schema].</td>
  </tr>
  <tr>
    <th align="left">Example</th>
    <td>http://incf-dev-local.crbs.ucsd.edu:8080/atlas-aba?service=WPS&version=1.0.0&request=Execute&Identifier=GetCellsByURI&DataInputs=... TBD ...</td>
  </tr>
</table>

===GetCorrelationMapByPOI===

Temporary -- Data Inputs: 
inputSrsName outputSrsName x y z filter

===GetGenesByPOI===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
  <tr>
    <th colspan="2">Get2DImagesByPOI</th>
  </tr>
  <tr>
    <th align="left">GET Request</th>        <td>http://[host:port]/[hub]$service=WPS&version=[version]&request=Execute&Identifier=GetGenesByPOI&DataInputs=srsName=[srsName];x=[x];y=[y];z=[z]</td>
  </tr>
  <tr>
    <th align="left">Description</th>
    <td></td>
  </tr>
  <tr>
    <th align="left">Applicability</th>
    <td>See [AtlasFunctionHubApplicabilityTable Applicability Table]</td>
  </tr>
  <tr>
    <th align="left">Data Inputs</th>
    <td>[AtlasRequestInterfaceSpec#SRS_Names srsName]<br/>
[AtlasRequestInterfaceSpec#Coordinates x]<br/>
[AtlasRequestInterfaceSpec#Coordinates y]<br/>
[AtlasRequestInterfaceSpec#Coordinates z]</td>
  </tr>
  <tr>
    <th align="left">Normal Return</th>
    <td>XML document.</td>
  </tr>
  <tr>
    <th align="left">Error Return</th>
    <td>XML exception report. [http://schemas.opengis.net/ows/0.3.0/owsExceptionReport.xsd OWS Schema].</td>
  </tr>
  <tr>
    <th align="left">Example</th>
    <td>http://incf-dev-local.crbs.ucsd.edu:8080/atlas-aba?service=WPS&version=1.0.0&request=Execute&Identifier=GetGenesByPOI&DataInputs=srsName=Mouse_AGEA_1.0;x=6600;y=4000;z=5600</td>
  </tr>
</table>


===GetStructureNamesByPOI===

Temporary -- Data Inputs: 
srsName x y z vocabulary filter

===!GetTransformationChain===

Temporary -- Data Inputs: 
inputSrsName outputSrsName filter

===ListSRSs===

Temporary -- Data Inputs: 
None

===!ListTransformations===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
  <tr>
    <th colspan="2">!ListTransformations</th>
  </tr>
  <tr>
    <th align="left">GET Request</th>        <td>http://[host:port]/[hub]$service=WPS&version=[version]&request=Execute&Identifier=ListTransformations&DataInputs=inputSrsName=[inputSrsName];outputSrsName=[outputSrsName]</td>
  </tr>
  <tr>
    <th align="left">Description</th>
    <td></td>
  </tr>
  <tr>
    <th align="left">Applicability</th>
    <td>See [AtlasFunctionHubApplicabilityTable Applicability Table]</td>
  </tr>
  <tr>
    <th align="left">Data Inputs</th>
    <td>[AtlasRequestInterfaceSpec#SRS_Names inputSrsName]<br/>
[AtlasRequestInterfaceSpec#SRS_Names outputSrsName]</td>
  </tr>
  <tr>
    <th align="left">Normal Return</th>
    <td>XML document.</td>
  </tr>
  <tr>
    <th align="left">Error Return</th>
    <td>XML exception report. [http://schemas.opengis.net/ows/0.3.0/owsExceptionReport.xsd OWS Schema].</td>
  </tr>
  <tr>
    <th align="left">Example</th>
    <td>http://incf-dev-local.crbs.ucsd.edu:8080/atlas-aba?service=WPS&version=1.0.0&request=Execute&Identifier=ListTransformations&DataInputs=inputSrsName=[...];outputSrsName=[...]</td>
  </tr>
</table>

===Retrieve2DImage===

<table style="color:black; background-color:#ffffcc;" cellpadding="5" cellspacing="0" border="1">
  <tr>
    <th colspan="2">Retrieve2DImage</th>
  </tr>
  <tr>
    <th align="left">GET Request</th>        <td>http://[host:port]/[hub]$service=WPS&version=[version]&request=Execute&Identifier=Retrieve2DImage&DataInputs=sourceType=[sourceType];sourceURL=[sourceURL]]srsName=[srsName];xmin=[xmin];xmax=[xmax];ymin=[ymin];ymax=[ymax];filter=[filter]</td>
  </tr>
  <tr>
    <th align="left">Description</th>
    <td></td>
  </tr>
  <tr>
    <th align="left">Applicability</th>
    <td>See [AtlasFunctionHubApplicabilityTable Applicability Table]</td>
  </tr>
  <tr>
    <th align="left">Data Inputs</th>
    <td>sourceType<br/>
sourceURL<br/>
[AtlasRequestInterfaceSpec#SRS_Names srsName]<br/>
[AtlasRequestInterfaceSpec#Coordinates xmin]<br/>
[AtlasRequestInterfaceSpec#Coordinates xmax]<br/>
[AtlasRequestInterfaceSpec#Coordinates ymin]<br/>
[AtlasRequestInterfaceSpec#Coordinates ymax]<br/>
[AtlasRequestInterfaceSpec#Filter filter]</td>
  </tr>
  <tr>
    <th align="left">Normal Return</th>
    <td>XML document.</td>
  </tr>
  <tr>
    <th align="left">Error Return</th>
    <td>XML exception report. [http://schemas.opengis.net/ows/0.3.0/owsExceptionReport.xsd OWS Schema].</td>
  </tr>
  <tr>
    <th align="left">Example</th>
    <td>http://incf-dev-local.crbs.ucsd.edu:8080/atlas-aba?service=WPS&version=1.0.0&request=Execute&Identifier=Retrieve2DImage&DataInputs=sourceType=[sourceType];sourceURL=[...]]srsName=[...];xmin=[...];xmax=[...];ymin=[...];ymax=[...];filter=[...]</td>
  </tr>
</table>

===TransformPOI===

Temporary -- Data Inputs: 
inputSrsName outputSrsNamex y z filter